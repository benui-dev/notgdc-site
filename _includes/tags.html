<div class="row" style="justify-content:center" id="filter-row">
    {%- for submission in include.submissions -%}
        {%- for tag in submission.tags -%}
        {%- assign used_tags = used_tags | append: " " | append: tag -%}
        {%- endfor -%}
    {%- endfor -%}
    {%- assign used_tags = used_tags | split: " " | sort | uniq | join " " -%}
    {%- if include.show-year-tags == true -%}
        {%- for year in site.data.submissions.years -%}
            {%- assign used_tags = used_tags | rsort | prepend: " " | prepend: year | prepend: "year-" -%}
        {%- endfor -%}
    {%- endif -%}
    {%- assign used_tags = used_tags | prepend: "all " -%}
    {%- assign used_tags_array = used_tags | split: " " -%}
    <span class="filter-header">Filters:</span>
    {%- for tag in used_tags_array -%}
        {%- if tag == 'all' -%}
            <a class="tag-link badge" onclick="filterTags(['all'])" href="#submissions" style="background-color:{{ site.data.tags[tag].background-color }};">
                All
            </a>
        {%- else -%}
        <label class="tag-link badge checkbox-wrapper" style="background-color:{{ site.data.tags[tag].background-color }};">
            <input type="checkbox" class="checkbox-filter" id="checkbox-{{tag}}" value="{{tag}}" onclick="event.stopPropagation();toggleFilters();"/>
            <span class="badge">
            {%- if site.data.tags[tag].icon -%}
                {{ site.data.tags[tag].icon }}
            {%- endif -%}
            </span>
           {{site.data.tags[tag].title}}
        </label>
        {%- endif -%}
    </span>
    {%- endfor -%}
</div>
